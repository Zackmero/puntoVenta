<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">


    <body>

        <ui:composition template="./templates/Formularios.xhtml">

            <ui:define name="left">
                <f:view>
                    <p:menu toggleable="true">
                        <p:menuitem action="#{usuarioBEAN.agregar()}" actionListener="#{usuarioBEAN.prepararNuevoUsuario()}" value="Agregar" icon="pi pi-check-circle" rendered="#{usuarioBEAN.usuario.id==null}"/>
                        <p:menuitem action="#{usuarioBEAN.editar()}" actionListener="#{usuarioBEAN.prepararEditarUsuario(item)}" value="Modificar" icon="pi pi-file-edit" rendered="#{usuarioBEAN.usuario.id!=null}"/>
                        <br></br>
                        <br></br>
                        <p:menuitem action="usuarioLista.xhtml" value="Cancelar" icon="pi pi-backward" immediate="true"/>
                    </p:menu>
                </f:view>
            </ui:define>

            <ui:define name="content">
                <f:view>
                    <h:form>

                        <h1><h:outputText value="#{usuarioBEAN.titulo}" style="font-family: monospace; margin-left: 450px; font-size: 30px; color: #0033cc;text-decoration: #000000"/></h1>

                        <p:panelGrid columns="2" style="display: flex; justify-content: center;">
                            <p:outputLabel value="Nombre:" for="nombre" />
                            <p:inputText id="nombre" value="#{usuarioBEAN.usuario.nombre}" title="Nombre" maxlength="25" required="true" requiredMessage="El campo Nombre es requerido."/>
                            <p:outputLabel value="Apellido:" for="apellido" />
                            <p:inputText id="apellido" value="#{usuarioBEAN.usuario.apellido}" title="Apellido" maxlength="25" required="true" requiredMessage="El campo Apellido es requerido."/>
                            <p:outputLabel value="Edad:" for="edad" />
                            <p:inputText id="edad" value="#{usuarioBEAN.usuario.edad}" title="Edad" required="true" maxlength="2" requiredMessage="El campo de Edad es requerido."/>
                            <p:outputLabel value="Direccion:" for="direccion" />
                            <p:inputText id="direccion" value="#{usuarioBEAN.usuario.direccion}" title="Direccion" maxlength="45" required="true" requiredMessage="El campo de Direccion es requerido."/>
                            <p:outputLabel value="CodigoPostal:" for="codigoPostal" />
                            <p:inputText id="codigoPostal" value="#{usuarioBEAN.usuario.codigoPostal}" title="CodigoPostal" maxlength="5" required="true" requiredMessage="El campo Codigo Postal es requerido."/>
                            <p:outputLabel value="Telefono:" for="telefono" />
                            <p:inputText id="telefono" value="#{usuarioBEAN.usuario.telefono}" title="Telefono" maxlength="12" required="true" requiredMessage="El campo Telefono es requerido."/>
                            <p:outputLabel value="RolId:" for="rolId" />
                            <p:selectOneMenu id="rolId" value="#{usuarioBEAN.rolSelect}" required="true" maxlength="25" requiredMessage="El Campo Rol es requerido.">

                                TODO: update below reference to list of available items

                                <f:selectItems value="#{rolBEAN.todosRoles}" var="item" itemLabel="#{item.rol}" itemValue="#{item.rol}"/>

                            </p:selectOneMenu>
                        </p:panelGrid>
                    </h:form>
                </f:view>
            </ui:define>
        </ui:composition>

    </body>
</html>
